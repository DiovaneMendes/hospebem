<!DOCTYPE html>
<html th:replace="~{layout :: layout(~{::title}, ~{::main})}" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <title>Hospebem - Quartos</title>
</head>

<body>
<main sec:authorize="hasAuthority(T(com.thoughtworks.aceleradora.login.dominio.Cargo).ADMINISTRADOR.getNome())">
    <div th:include="@{./partes/cabecalhoDadosSolicitante}"/>

    <div class="column has-text-centered">
        <a class="button verde-viavida borda-arredondada" th:href="@{/quartos/{id}/listaQuartos(id=${solicitacao.id})}">Voltar</a>
    </div>

    <h1 class="title is-half centralizar espacamento-titulo" th:text="'Quarto: ' + ${quarto.nomeQuarto}"></h1>

    <div class="is-mobile is-centered">
        <h2 class="title is-2 is-half centralizar espacamento-titulo">Ocupado por:</h2>

        <th:block th:each="ocupante : ${ocupantes}">
            <div class="centralizar">
                <p>
                    <label>
                        <strong>Nome:</strong>
                    </label>
                    <label th:text="${ocupante.nome}"></label>
                </p>
            </div>
        </th:block>

    </div>
    <div class="is-centered is-half centralizar espacamento" th:if="${quarto.getLeitosDisponiveis() > 0}">
        <form th:action="@{/quarto/aceitar}" method="POST">
            <input type="hidden" name="id" th:value="${solicitacao.id}">
            <input type="hidden" name="idQuarto" th:value="${quarto.id}">
            <button type="submit" class="button verde-viavida borda-arredondada"> Aceitar Solicitação </button>
        </form>

        <form th:action="@{/quarto/negar}" method="POST">
            <input type="hidden" name="id" th:value="${solicitacao.id}">
            <input type="hidden" name="idQuarto" th:value="${quarto.id}">
            <button type="submit" class="button verde-viavida borda-arredondada"> Negar Solicitação</button>
        </form>
    </div>
</main>
</body>
</html>